<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Red Cipher - Keep Talking and Nobody Explodes Module</title>
    <meta name="viewport" content="initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        table {
            margin: 1em auto;
        }
        .strip-change-one td,
        .strip-change-one th {
            padding: .3em .5em .2em;
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Red Cipher</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Ultimate Cipher.svg" class="diagram">
                <h2>On the Subject of the Red Cipher</h2>
                <p class="flavour-text">Seeing red is the standard for this module.</p>
                <p>On the module, you will see 3 screens, a keyboard, 2 arrows, and a submit button that displays the current page you're on.</p>
                <p>Pressing the right arrow takes you to the next page. Pressing the left arrow takes you to the previous page. There is a total of 2 pages.</p>
                <p>On page 1, the top screen shows a 6 letter encrypted word, the middle screen shows 1 or more letter(s). If the encypted word has any Js, replace them with the letter(s) in reading order. After you do all 3 steps, change the letter(s) back into a J. 
                <p>On page 2, all 3 screens show a word. Depending on the number of ports determine which word is keywords 1, 2, and 3:</p>
		<table>
		<tbody>
		<tr>
			<th># OF PORTS</th>
			<th>TOP</th>
			<th>MIDDLE</th>
			<th>BOTTOM</th>
		</tr><th>0</th><th>KW1</th><th>KW2</th><th>KW3</th><tr>
		</tr><th>1</th><th>KW1</th><th>KW3</th><th>KW2</th><tr>
		</tr><th>2</th><th>KW2</th><th>KW1</th><th>KW3</th><tr>
		</tr><th>3</th><th>KW3</th><th>KW1</th><th>KW2</th><tr>
		</tr><th>4</th><th>KW2</th><th>KW3</th><th>KW1</th><tr>
		</tr><th>5+</th><th>KW3</th><th>KW2</th><th>KW1</th><tr>
		</tbody>
		</table>		
		<p>After determining your keywords, then take the encripted word and follow the mechanics down below:</p>
		
		<h3>Step 1: Playfair Cipher</h3>
		<p>For this step use KW1 to create the 1st matrix</p>
		<p>To create it, first replace any Js with Is, and remove any duplicates so each letter occurs once. Then take the alphabet and remove any occurences of all the letters in your current key.</p>
		<p>If the first digit of the serial number is odd, place the alphabet at the end of your key. Otherwise place the alphabet at the beginning of your key.</p>
		<p>Once you have the 25 length string, create a 5x5 matrix of letters.</p>
           	<p>Split the encrytped word into character pairs. For each pair:</p>
		<ul>
		<li>If the 2 letters are exactly the same, keep them as is.</li>
		<li>Otherwise, if the letters appear on the same row of your matrix, replace them with the letters to their immediate left respectively, wrapping around to the right side of the row.</li>
		<li>Otherwise, if the letters are on the same column of your matrix, replace them with the letters immediately above, wrapping to the bottom.</li>
		<li>Otherwise, replace each of them with the letter on the same row but in the column of the other letter in the original pair.</li>
		</ul>
		<p>The resulting letters forms your new enciphered word.</p>

		<h3>Step 2: Conjugated Matrix Bifid</h3>
		<p>This step requires 2 matrices. The first matrix that will be used is the one you made in step 1. The second matrix will be created using KW2.</p>
		<p>Do the same thing as you did to create the 1st matrix, replace any Js with Is in KW2, remove all duplicates, take the alphabet and remove any occurences of all the letters in KW2.</p>
		<p>If the second digit of the serial number is odd, add the alphabet to the end of KW2. Otherwise, add it to the beginning of KW2.</p>
		<p>Finally take your 25 length string and create a 5x5 matrix of letters.</p> 
		<p>You should now have 2 matrices. Add numbers 1-5 along the top and left of the 2 matrices.</p>             
		<p>Using the encrypted word, for each letter, find it in the 2nd matrix to get a row/col pair from it to have a 6 pairs of numbers. Then take the 4th - 6th pairs of numbers and place them under the 1st - 3rd pairs of numbers. Finally read the numbers top to bottom, left to right to get a new 6 pairs of numbers. Use these numbers for the row/col in 1st matrix to get new enciphered word.</p>
		<h3>Step 3: Tri-square Cipher</h3>
		<p>This step require 3 matrices. The 1st and 2nd matrix are the ones you already created. Create it using the same methods you did for matrix 1 and 2 except using KW3.</p>
		<p>If the last digit of the serial number is odd, add the alphabet to the end of KW3. Otherwise, add it to the beginning of KW3.</p>
		<p>Rearrange the new 25 length string into another 5x5 matrix. You should now have 3 matrices.</p>
		<p>Split the encypted word into 3 letter pairs. For each letter pair do the following:</p>
		<ul>
			<li>Take the first letter and find it in the 3rd matrix. This will give you the row for the 1st matrix and the column for the 2nd matrix.</li>
			<li>Next find the second letter in the 3rd matrix. This will give you the column for the 1st matrix and the row for the 2nd matrix.</li>
			<li>Finally, take the letter you got from the 1st matrix as your first letter, and the letter you got from the 2nd matrix as your second letter.</li>
		</ul>
		<p>Remember to replace any letters that were Js initially to a J to get your deciphered word.</p>
		
		<p>Once you finally have your decrypted word, you can submit it. Once you start typing, all the screens will go black and the bottom screen will show what you are typing. </p>
		<p>To clear it, just click one of the arrows. This goes to one of the pages and clears any input you put in. It will not let you go over 6 letters on input. </p>
		<p>Once you are satisfied with your input, press the button labeled "SUB" to submit your answer. On a strike, the module will go back to the first page of the module, but it does not regenerate.</p>

     
</body>
</html>